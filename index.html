<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeuraX-Ultime | Démarrer le Cerveau</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
      position: relative;
      z-index: 1;
    }
    canvas#galaxy-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      z-index: 2;
    }
    button {
      background-color: #ff2d75;
      border: none;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      color: white;
      border-radius: 20px;
      cursor: pointer;
      margin-bottom: 2rem;
      z-index: 2;
    }
    #log {
      background: rgba(0, 0, 0, 0.6);
      padding: 1rem;
      width: 80%;
      max-height: 200px;
      overflow-y: auto;
      border-radius: 10px;
      z-index: 2;
    }
    #brain-map {
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, #ffffff33 1px, transparent 1px);
      background-size: 20px 20px;
      margin-top: 2rem;
      animation: pulse 2s infinite;
      border: 1px solid #fff;
      border-radius: 50%;
      z-index: 2;
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <canvas id="galaxy-bg"></canvas>

  <h1>Bienvenue dans NeuraX-Ultime</h1>
  <button onclick="startBrain()">Démarrer le Cerveau</button>

  <div id="log">
    <strong>Logs neuronaux :</strong>
    <ul id="log-list"></ul>
  </div>

  <div id="brain-map"></div>

  <script>
    function speak(text) {
      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'fr-FR';
      utter.pitch = 1.2;
      utter.rate = 1.0;
      synth.speak(utter);
    }

    function log(message) {
      const logList = document.getElementById("log-list");
      const item = document.createElement("li");
      item.textContent = [${new Date().toLocaleTimeString()}] ${message};
      logList.appendChild(item);
      saveLogToLocal(message);
    }

    function saveLogToLocal(message) {
      const logs = JSON.parse(localStorage.getItem("neural_logs") || "[]");
      logs.push({ time: new Date().toISOString(), message });
      localStorage.setItem("neural_logs", JSON.stringify(logs));
    }

    function startBrain() {
      log("Cerveau activé");
      speak("Connexion au cortex initiée. Bonjour, créateur.");
      animateBrain();
    }

    function animateBrain() {
      const brainMap = document.getElementById("brain-map");
      brainMap.style.border = '2px solid #ff2d75';
    }

    // Galaxy Spiral Background Animation with Clickable Stars and Orbiting Ship
    const canvas = document.getElementById('galaxy-bg');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const stars = Array.from({ length: 500 }, () => ({
      angle: Math.random() * 2 * Math.PI,
      radius: Math.random() * 400 + 100,
      speed: Math.random() * 0.002 + 0.001,
      size: Math.random() * 1.5 + 0.5,
      id: Math.random().toString(36).substr(2, 5)
    }));

    const ship = {
      angle: 0,
      radius: 200,
      speed: 0.01
    };

    function drawGalaxy() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      stars.forEach(s => {
        s.angle += s.speed;
        const x = canvas.width / 2 + s.radius * Math.cos(s.angle);
        const y = canvas.height / 2 + s.radius * Math.sin(s.angle);
        ctx.beginPath();
        ctx.arc(x, y, s.size, 0, 2 * Math.PI);
        ctx.fillStyle = 'white';
        ctx.fill();
        s.x = x;
        s.y = y;
      });

      ship.angle += ship.speed;
      const sx = canvas.width / 2 + ship.radius * Math.cos(ship.angle);
      const sy = canvas.height / 2 + ship.radius * Math.sin(ship.angle);
      ctx.beginPath();
      ctx.arc(sx, sy, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#00ffff';
      ctx.fill();

      requestAnimationFrame(drawGalaxy);
    }

    canvas.addEventListener('click', e => {
      stars.forEach(s => {
        if (Math.abs(e.clientX - s.x) < 5 && Math.abs(e.clientY - s.y) < 5) {
          log(Étoile ${s.id} sélectionnée. Activation du souvenir galactique.);
          speak(Connexion à l'étoile ${s.id}. Données mémorielles en cours de synchronisation.);
        }
      });
    });

    drawGalaxy();
  </script>
</body>
</html>
